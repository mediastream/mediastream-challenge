(this["webpackJsonpprueba-frontend-react"]=this["webpackJsonpprueba-frontend-react"]||[]).push([[0],{18:function(t,e,c){},24:function(t,e,c){},33:function(t,e,c){"use strict";c.r(e);c(18);var n=c(0),i=c.n(n),r=c(14),a=c.n(r),s=c(15),u=c(2),j=c(10),o=c(4),d={movies:[{id:1,name:"Star Wars",price:20,quantity:0},{id:2,name:"Minions",price:25,quantity:0},{id:3,name:"Fast and Furious",price:10,quantity:0},{id:4,name:"The Lord of the Rings",price:5,quantity:0}],discountRules:[{m:[3,2],discount:.25},{m:[2,4,1],discount:.5},{m:[4,2],discount:.1}],cart:[]},l=function(t,e){var c=e.type,n=e.payload;switch(c){case"ADD_ITEM_TO_CART":return-1!==t.cart.map((function(t){return t.id})).indexOf(n.id)?t:Object(o.a)(Object(o.a)({},t),{},{cart:[].concat(Object(j.a)(t.cart),[Object(o.a)(Object(o.a)({},n),{},{quantity:1})])});case"INCREMENT_QUANTITY_OF_ITEM":var i=t.movies.filter((function(t){return t.id===n&&Object(o.a)(Object(o.a)({},t),{},{quantity:t.quantity+=1})}))[0];return Object(o.a)(Object(o.a)({},t),{},{cart:Object(j.a)(t.cart.map((function(t){return t.id===n?i:t})))});case"DECREASE_QUANTITY_OF_ITEM":var r=t.movies.filter((function(t){return t.id===n}))[0];return r.quantity<=0?Object(o.a)(Object(o.a)({},t),{},{cart:Object(j.a)(t.cart.filter((function(t){return t.id!==n})))}):Object(o.a)(Object(o.a)({},t),{},{cart:Object(j.a)(t.cart.map((function(t){return t.id===n?Object(o.a)(Object(o.a)({},r),{},{quantity:r.quantity-=1}):t})))});default:return t}},b=c(1),O=Object(n.createContext)();function m(t){var e=t.children;return Object(b.jsx)(O.Provider,{value:Object(n.useReducer)(l,d),children:e})}var x=function(){return Object(n.useContext)(O)[0]},h=function(){return Object(n.useContext)(O)[1]},f=function(t){var e=t.label,c=t.action;return Object(b.jsx)("button",{type:"button",onClick:c,children:e})},v=function(t){var e=t.cartItem,c=h();x().cart;return Object(b.jsxs)("li",{className:"movies__cart-card",children:[Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["ID: ",e.id]}),Object(b.jsxs)("li",{children:["Name: ",e.name]}),Object(b.jsxs)("li",{children:["Price: $",e.price]})]}),Object(b.jsxs)("div",{className:"movies__cart-card-quantity",children:[Object(b.jsx)(f,{label:"-",action:function(){return c({type:"DECREASE_QUANTITY_OF_ITEM",payload:e.id})}}),Object(b.jsx)("span",{children:e.quantity}),Object(b.jsx)(f,{label:"+",action:function(){c({type:"INCREMENT_QUANTITY_OF_ITEM",payload:e.id})}})]})]})},p=function(t){var e=t.movie,c=h();return Object(b.jsxs)("li",{className:"movies__list-card",children:[Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["ID: ",e.id]}),Object(b.jsxs)("li",{children:["Name: ",e.name]}),Object(b.jsxs)("li",{children:["Price: $",e.price]})]}),Object(b.jsx)(f,{label:"Add to cart",action:function(){return c({type:"ADD_ITEM_TO_CART",payload:e})}})]})};c(24);function _(){var t=x(),e=t.movies,c=(t.discountRules,t.cart);return Object(b.jsxs)("section",{className:"exercise01",children:[Object(b.jsx)("div",{className:"movies__list",children:Object(b.jsx)("ul",{children:null===e||void 0===e?void 0:e.map((function(t){return Object(b.jsx)(p,{movie:t},t.id)}))})}),Object(b.jsxs)("div",{className:"movies__cart",children:[Object(b.jsx)("ul",{children:null===c||void 0===c?void 0:c.map((function(t){return Object(b.jsx)(v,{cartItem:t},t.id)}))}),Object(b.jsx)("div",{className:"movies__cart-total",children:Object(b.jsxs)("p",{children:["Total: $",0]})})]})]})}var T=function(){return Object(b.jsx)(s.a,{children:Object(b.jsx)(u.c,{children:Object(b.jsx)(u.a,{path:"/",component:_,exact:!0})})})},y=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(e){var c=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;c(t),n(t),i(t),r(t),a(t)}))};a.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(m,{children:Object(b.jsx)(T,{})})}),document.getElementById("root")),y()}},[[33,1,2]]]);
//# sourceMappingURL=main.041af955.chunk.js.map